pathmunge() {
if [ -d "$1" ]; then
  local path
  path=$(realpath "$1")
  [ -z "$PATH" ] && export PATH="$path" && return
  case "X$2" in
  "Xafter") [[ ":$PATH:" != *":$path:"* ]] && PATH="${PATH:+"$PATH:"}$path";;
  "X-f")    PATH=:$PATH && PATH=$path${PATH//:$path/} ;;
  *)        [[ ":$PATH:" != *":$path:"* ]] && PATH="$path${PATH:+":$PATH"}" ;;
  esac
fi
}
# if [ -d "$1" ]; then
  # realpath / 2>&1 >/dev/null && path=$(realpath "$1") || path="$1"
  # # GNU bash, version 2.02.0(1)-release (sparc-sun-solaris2.6) ==> TOTAL incompatibility with [[ test ]]
  # [ -z "$PATH" ] && export PATH="$path:/bin:/usr/bin"
  # # SunOS 5.6 ==> (e)grep option "-q" not implemented !
  # echo "$PATH" | grep -sE "(^|:)$path($|:)" >/dev/null || {
    # [ "$2" == "after" ] && export PATH="$PATH:$path" || export PATH="$path:$PATH"
  # }
# fi
